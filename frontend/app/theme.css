/**
 * 1UP SOL 2025 Design System - Tailwind v4 CSS Theme
 *
 * This file defines the core design tokens using Tailwind v4's @theme syntax.
 * Mario-themed colors using OKLCH for perceptual uniformity with Display-P3 enhancements.
 *
 * Benefits:
 * - CSS-first approach (no JavaScript build step for tokens)
 * - Works in both Tailwind utilities AND raw CSS
 * - Automatic P3 enhancement on capable displays
 * - Better IDE autocomplete
 */

@import "tailwindcss";

@theme {
  /**
   * MARIO THEME - CORE BRAND COLORS
   * Using OKLCH color space for perceptually uniform Mario colors
   */

  /* Mario Red - Primary brand color */
  --color-brand: oklch(55% 0.22 27);        /* Mario Red #E52521 */
  --color-brand-hover: oklch(50% 0.24 27);  /* Darker Mario Red */

  /* Luigi Green - Secondary brand */
  --color-luigi: oklch(62% 0.18 145);       /* Luigi Green #43B047 */

  /* Super Star Yellow */
  --color-star: oklch(88% 0.16 85);         /* Star Yellow #FFD800 */

  /* Coin Gold */
  --color-coin: oklch(82% 0.14 75);         /* Coin Gold #FFB915 */

  /* Sky Blue */
  --color-sky: oklch(85% 0.08 230);         /* Sky Blue #A6D8FF */

  /* Super Blue */
  --color-super: oklch(52% 0.20 265);       /* Super Blue #2B4EF9 */

  /* Pipe Green */
  --color-pipe: oklch(52% 0.16 160);        /* Pipe Green #00994C */

  /* Brick Brown */
  --color-brick: oklch(48% 0.10 45);        /* Brick Brown #9C5818 */
  
  /* Unified Outline Token - Single source of truth - Warmer black for softer appearance */
  --outline-black: oklch(15% 0 20);          /* Warm Outline Black - softer than pure black */
  --color-outline-black: var(--outline-black); /* Alias for backward compatibility */

  /* COMPREHENSIVE MARIO THEME COLORS - All components */
  /* Primary Mario colors - used throughout the app */
  --mario-red: #E52521;
  --luigi-green: #43B047;
  --star-yellow: #FFD800;
  --coin-gold: #FFB915;
  --coin-yellow: #FFD700;
  --sky-blue: #A6D8FF;
  --brick-brown: #9C5818;
  --pipe-green: #00994C;

  /* Color aliases for new theme system compatibility */
  --color-mario-red: var(--mario-red);
  --color-luigi-green: var(--luigi-green);
  --color-star-yellow: var(--star-yellow);
  --color-coin-gold: var(--coin-gold);
  --color-brick-brown: var(--brick-brown);
  --color-sky-blue: var(--sky-blue);
  --color-pipe-green: var(--pipe-green);

  /* Trading-specific colors - Luigi Green for profit, Mario Red for loss */
  --color-profit: oklch(62% 0.18 145);      /* Luigi Green - WCAG AA compliant */
  --color-loss: oklch(55% 0.22 27);         /* Mario Red - WCAG AA compliant */

  /* Trading action colors - Vivid for attention-grabbing CTAs */
  --color-buy: oklch(62% 0.18 145);         /* Luigi Green for buy */
  --color-sell: oklch(55% 0.22 27);         /* Mario Red for sell */

  /**
   * CHART COLORS - MARIO THEMED
   * Colorful palette for data visualization
   */
  --color-chart-primary: oklch(0 0 0);          /* Black/White (theme-aware) */
  --color-chart-profit: oklch(62% 0.18 145);    /* Luigi Green */
  --color-chart-loss: oklch(55% 0.22 27);       /* Mario Red */
  --color-chart-neutral: oklch(45% 0 0);        /* Gray */
  --color-chart-accent: oklch(88% 0.16 85);     /* Star Yellow */

  /**
   * UI TOKENS
   * Consistent spacing, shadows, and effects
   */

  /* Border radius scale - Modern 2025 aesthetic */
  --radius-xs: 0.25rem;   /* 4px */
  --radius-sm: 0.375rem;  /* 6px */
  --radius: 0.5rem;       /* 8px - default */
  --radius-md: 0.625rem;  /* 10px - cards, panels */
  --radius-lg: 0.75rem;   /* 12px - dialogs, modals */
  --radius-xl: 1rem;      /* 16px */
  --radius-2xl: 1.5rem;   /* 24px */

  /* Shadow scale - Refined 2025 style */
  --shadow-xs: 0 1px 2px oklch(0 0 0 / 0.03);
  --shadow-sm: 0 1px 3px oklch(0 0 0 / 0.05);
  --shadow-card: 0 2px 4px oklch(0 0 0 / 0.04), 0 1px 2px oklch(0 0 0 / 0.03);
  --shadow-card-hover: 0 4px 8px oklch(0 0 0 / 0.06), 0 2px 4px oklch(0 0 0 / 0.04);
  --shadow-dropdown: 0 8px 16px -4px oklch(0 0 0 / 0.08), 0 4px 8px -2px oklch(0 0 0 / 0.04);
  --shadow-modal: 0 20px 40px -8px oklch(0 0 0 / 0.15);

  /* Transition durations */
  --transition-fast: 0.15s;
  --transition: 0.2s;
  --transition-slow: 0.3s;

  /* Animation easing */
  --ease: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);

  /* Base UI Colors - Warm Paper Cream Background */
  --background: #FFFAE9;
  --foreground: #000000;
  --card: #FFF8E7;      /* Light Parchment - warm, subtle off-white */
  --border: #E5E5E5;
  --color-border: #E5E5E5;

  /* Navigation Heights */
  --navbar-height: 56px;
  --bottom-nav-height: 64px;
  --trending-ticker-height: 60px;

  /* Warp Pipes Token Card Metrics */
  --token-card-height: 200px;
  --token-card-image-size: 120px;
  --token-card-padding: 1rem;
  --token-card-gap: 0.75rem;

  /* Metric Display Colors */
  --metric-label-color: var(--outline-black);
  --metric-value-color: var(--outline-black);
  --metric-positive: var(--luigi-green);
  --metric-negative: var(--mario-red);
  --metric-neutral: var(--pipe-green);

  /**
   * Z-INDEX SCALE - Single source of truth for all layering
   * 
   * This unified system replaces conflicting z-index values across:
   * - panel.css
   * - tailwind.config.js
   * - wallet-modal-override.css
   * - globals.css
   * - All component inline styles
   * 
   * Scale Structure:
   * 0-10: Base content layers
   * 100-900: Interface elements (headers, nav, dropdowns)
   * 1000-1900: Overlays (modals, popovers, tooltips)
   * 2000+: System overlays (toasts, loading, alerts)
   * 9999: Debug & texture overlays
   */
  
  /* Base Content Layers (0-10) */
  --z-base: 0;
  --z-background-texture: 1;      /* Background texture layer */
  --z-content: 2;                 /* Main content layer */
  --z-foreground-texture: 9999;   /* Top texture overlay */
  
  /* Interface Elements (100-900) */
  --z-header: 100;
  --z-nav: 200;
  --z-dropdown: 300;
  --z-sidebar: 400;
  --z-sticky: 500;
  
  /* Overlay Elements (1000-1900) */
  --z-modal-backdrop: 1000;
  --z-modal: 1010;
  --z-wallet-modal-backdrop: 1100;  /* Wallet modal system */
  --z-wallet-modal: 1110;           /* Wallet modal content */
  --z-popover: 1200;
  --z-badge-tooltip: 1300;
  --z-tooltip: 1400;
  
  /* System Overlays (2000+) */
  --z-toast: 2000;
  --z-loading: 2100;
  --z-onboarding: 2200;
  
  /* Debug & Special (9999) */
  --z-debug: 9998;
}

/**
 * WIDE-GAMUT COLOR ENHANCEMENT (Display-P3) - MARIO THEME
 *
 * These colors are more vivid and saturated on modern displays that support P3 color space:
 * - MacBooks (2015+)
 * - iPhones (iPhone 7+)
 * - High-end monitors
 *
 * Browsers automatically fall back to sRGB if P3 is not supported.
 */
@media (color-gamut: p3) {
  @theme {
    /* Enhanced Mario Red - More vivid on P3 displays */
    --color-brand: color(display-p3 0.90 0.15 0.13);        /* Mario Red P3 */
    --color-brand-hover: color(display-p3 0.70 0.11 0.10);  /* Darker Mario Red P3 */
    --mario-red: color(display-p3 0.90 0.15 0.13);          /* Mario Red P3 (Tailwind reference) */

    /* Enhanced Luigi Green */
    --color-luigi: color(display-p3 0.26 0.69 0.28);        /* Luigi Green P3 */
    --luigi-green: color(display-p3 0.26 0.69 0.28);        /* Luigi Green P3 (Tailwind reference) */

    /* Enhanced Star Yellow */
    --color-star: color(display-p3 1.0 0.85 0.0);           /* Star Yellow P3 */
    --star-yellow: color(display-p3 1.0 0.85 0.0);          /* Star Yellow P3 (Tailwind reference) */

    /* Enhanced Coin Gold */
    --color-coin: color(display-p3 1.0 0.72 0.08);          /* Coin Gold P3 */
    --coin-gold: color(display-p3 1.0 0.72 0.08);           /* Coin Gold P3 (Tailwind reference) */

    /* Enhanced Sky Blue */
    --color-sky: color(display-p3 0.65 0.85 1.0);           /* Sky Blue P3 */
    --sky-blue: color(display-p3 0.65 0.85 1.0);            /* Sky Blue P3 (Tailwind reference) */

    /* Enhanced Super Blue */
    --color-super: color(display-p3 0.17 0.31 0.98);        /* Super Blue P3 */

    /* Enhanced Pipe Green */
    --color-pipe: color(display-p3 0.0 0.60 0.30);          /* Pipe Green P3 */
    --pipe-green: color(display-p3 0.0 0.60 0.30);          /* Pipe Green P3 (Tailwind reference) */

    /* Enhanced Brick Brown */
    --brick-brown: color(display-p3 0.61 0.35 0.09);        /* Brick Brown P3 */

    /* Enhanced trading colors - More vibrant on P3 displays */
    --color-profit: color(display-p3 0.26 0.69 0.28);       /* Luigi Green P3 */
    --color-loss: color(display-p3 0.90 0.15 0.13);         /* Mario Red P3 */

    /* Enhanced action colors - Maximum impact */
    --color-buy: color(display-p3 0.26 0.69 0.28);          /* Luigi Green buy */
    --color-sell: color(display-p3 0.90 0.15 0.13);         /* Mario Red sell */

    /* Enhanced chart colors */
    --color-chart-profit: color(display-p3 0.26 0.69 0.28); /* Luigi Green chart */
    --color-chart-loss: color(display-p3 0.90 0.15 0.13);   /* Mario Red chart */
    --color-chart-accent: color(display-p3 1.0 0.85 0.0);   /* Star Yellow chart */
  }
}

/**
 * ACCESSIBILITY: REDUCED MOTION
 *
 * Respects user's preference for reduced motion.
 * Disables animations and reduces transition times.
 */
@media (prefers-reduced-motion: reduce) {
  @theme {
    --transition-fast: 0.01ms;
    --transition: 0.01ms;
    --transition-slow: 0.01ms;
  }
}

/**
 * USAGE EXAMPLES
 *
 * Tailwind utilities (auto-generated from @theme):
 * <div className="bg-brand text-profit shadow-card rounded-md" />
 *
 * Raw CSS custom properties:
 * <div style={{ color: 'var(--color-buy)' }} />
 *
 * Both automatically get P3 enhancement on capable displays!
 */
