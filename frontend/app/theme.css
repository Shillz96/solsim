/**
 * VirtualSol 2025 Design System - Tailwind v4 CSS Theme
 *
 * This file defines the core design tokens using Tailwind v4's @theme syntax.
 * Colors use OKLCH for perceptual uniformity with Display-P3 enhancements for wide-gamut displays.
 *
 * Benefits:
 * - CSS-first approach (no JavaScript build step for tokens)
 * - Works in both Tailwind utilities AND raw CSS
 * - Automatic P3 enhancement on capable displays
 * - Better IDE autocomplete
 */

@import "tailwindcss";

@theme {
  /**
   * CORE BRAND COLORS
   * Using OKLCH color space for perceptually uniform colors across all displays
   */

  /* Primary brand color - Indigo/Blue */
  --color-brand: oklch(72% 0.16 260);
  --color-brand-hover: oklch(68% 0.18 260);

  /* Trading-specific colors - High contrast for visibility */
  --color-profit: oklch(65% 0.12 155); /* Green - WCAG AA compliant */
  --color-loss: oklch(60% 0.14 27);   /* Red - WCAG AA compliant */

  /* Trading action colors - Vivid for attention-grabbing CTAs */
  --color-buy: oklch(85% 0.30 150);   /* Bright neon green */
  --color-sell: oklch(65% 0.25 27);   /* Bright red */

  /**
   * CHART COLORS
   * Minimal palette for data visualization
   */
  --color-chart-primary: oklch(0 0 0);        /* Black/White (theme-aware) */
  --color-chart-profit: oklch(85% 0.30 150);   /* Profit green */
  --color-chart-loss: oklch(65% 0.25 27);      /* Loss red */
  --color-chart-neutral: oklch(45% 0 0);       /* Gray */

  /**
   * UI TOKENS
   * Consistent spacing, shadows, and effects
   */

  /* Border radius scale - Modern 2025 aesthetic */
  --radius-xs: 0.25rem;   /* 4px */
  --radius-sm: 0.375rem;  /* 6px */
  --radius: 0.5rem;       /* 8px - default */
  --radius-md: 0.625rem;  /* 10px - cards, panels */
  --radius-lg: 0.75rem;   /* 12px - dialogs, modals */
  --radius-xl: 1rem;      /* 16px */
  --radius-2xl: 1.5rem;   /* 24px */

  /* Shadow scale - Refined 2025 style */
  --shadow-xs: 0 1px 2px oklch(0 0 0 / 0.03);
  --shadow-sm: 0 1px 3px oklch(0 0 0 / 0.05);
  --shadow-card: 0 2px 4px oklch(0 0 0 / 0.04), 0 1px 2px oklch(0 0 0 / 0.03);
  --shadow-card-hover: 0 4px 8px oklch(0 0 0 / 0.06), 0 2px 4px oklch(0 0 0 / 0.04);
  --shadow-dropdown: 0 8px 16px -4px oklch(0 0 0 / 0.08), 0 4px 8px -2px oklch(0 0 0 / 0.04);
  --shadow-modal: 0 20px 40px -8px oklch(0 0 0 / 0.15);

  /* Transition durations */
  --transition-fast: 0.15s;
  --transition: 0.2s;
  --transition-slow: 0.3s;

  /* Animation easing */
  --ease: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
}

/**
 * WIDE-GAMUT COLOR ENHANCEMENT (Display-P3)
 *
 * These colors are more vivid and saturated on modern displays that support P3 color space:
 * - MacBooks (2015+)
 * - iPhones (iPhone 7+)
 * - High-end monitors
 *
 * Browsers automatically fall back to sRGB if P3 is not supported.
 */
@media (color-gamut: p3) {
  @theme {
    /* Enhanced brand colors with wider gamut */
    --color-brand: color(display-p3 0.16 0.68 0.98);
    --color-brand-hover: color(display-p3 0.14 0.64 0.94);

    /* Enhanced trading colors - More vibrant on P3 displays */
    --color-profit: color(display-p3 0.12 0.85 0.45);
    --color-loss: color(display-p3 0.92 0.20 0.18);

    /* Enhanced action colors - Maximum impact */
    --color-buy: color(display-p3 0 1 0.52);      /* Pure vivid green */
    --color-sell: color(display-p3 1 0.30 0.30);   /* Vivid red */

    /* Enhanced chart colors */
    --color-chart-profit: color(display-p3 0 1 0.52);
    --color-chart-loss: color(display-p3 1 0.30 0.30);
  }
}

/**
 * ACCESSIBILITY: REDUCED MOTION
 *
 * Respects user's preference for reduced motion.
 * Disables animations and reduces transition times.
 */
@media (prefers-reduced-motion: reduce) {
  @theme {
    --transition-fast: 0.01ms;
    --transition: 0.01ms;
    --transition-slow: 0.01ms;
  }
}

/**
 * USAGE EXAMPLES
 *
 * Tailwind utilities (auto-generated from @theme):
 * <div className="bg-brand text-profit shadow-card rounded-md" />
 *
 * Raw CSS custom properties:
 * <div style={{ color: 'var(--color-buy)' }} />
 *
 * Both automatically get P3 enhancement on capable displays!
 */
